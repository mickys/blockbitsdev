<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- This file was created with the aha Ansi HTML Adapter. https://github.com/theZiz/aha -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8" />
<title>output/coverage.log</title>
</head>
<body style="color:white; background-color:black">
<pre>
Starting our own testrpc instance at port 8555
Generating coverage environment
Instrumenting  ./coverageEnv/contracts/Algorithms/TokenSCADA1Market.sol
Instrumenting  ./coverageEnv/contracts/Algorithms/TokenSCADAGeneric.sol
Instrumenting  ./coverageEnv/contracts/ApplicationAsset.sol
Instrumenting  ./coverageEnv/contracts/ApplicationEntity.sol
Instrumenting  ./coverageEnv/contracts/ApplicationEntityABI.sol
Instrumenting  ./coverageEnv/contracts/Entity/Funding.sol
Instrumenting  ./coverageEnv/contracts/Entity/FundingManager.sol
Instrumenting  ./coverageEnv/contracts/Entity/FundingVault.sol
Instrumenting  ./coverageEnv/contracts/Entity/GeneralVault.sol
Instrumenting  ./coverageEnv/contracts/Entity/ListingContract.sol
Instrumenting  ./coverageEnv/contracts/Entity/Meetings.sol
Instrumenting  ./coverageEnv/contracts/Entity/Milestones.sol
Instrumenting  ./coverageEnv/contracts/Entity/Proposals.sol
Instrumenting  ./coverageEnv/contracts/Entity/Token.sol
Instrumenting  ./coverageEnv/contracts/Entity/TokenManager.sol
Instrumenting  ./coverageEnv/contracts/GatewayInterface.sol
Instrumenting  ./coverageEnv/contracts/Inputs/FundingInputDirect.sol
Instrumenting  ./coverageEnv/contracts/Inputs/FundingInputGeneral.sol
Instrumenting  ./coverageEnv/contracts/Inputs/FundingInputMilestone.sol
Instrumenting  ./coverageEnv/contracts/library/FundingVaultLib.sol
Skipping instrumentation of  ./coverageEnv/contracts/misc/Migrations.sol
Skipping instrumentation of  ./coverageEnv/contracts/zeppelin/math/Math.sol
Instrumenting  ./coverageEnv/contracts/zeppelin/math/SafeMath.sol
Instrumenting  ./coverageEnv/contracts/zeppelin/token/BasicToken.sol
Instrumenting  ./coverageEnv/contracts/zeppelin/token/ERC20.sol
Instrumenting  ./coverageEnv/contracts/zeppelin/token/ERC20Basic.sol
Instrumenting  ./coverageEnv/contracts/zeppelin/token/StandardToken.sol
Running: node --max-old-space-size=4096 ../node_modules/.bin/truffle test --network coverage
(this can take a few seconds)...
Using network 'coverage'.

Compiling ./contracts/Algorithms/TokenSCADA1Market.sol...
Compiling ./contracts/Algorithms/TokenSCADAGeneric.sol...
Compiling ./contracts/ApplicationAsset.sol...
Compiling ./contracts/ApplicationEntity.sol...
Compiling ./contracts/ApplicationEntityABI.sol...
Compiling ./contracts/Entity/Funding.sol...
Compiling ./contracts/Entity/FundingManager.sol...
Compiling ./contracts/Entity/FundingVault.sol...
Compiling ./contracts/Entity/GeneralVault.sol...
Compiling ./contracts/Entity/ListingContract.sol...
Compiling ./contracts/Entity/Meetings.sol...
Compiling ./contracts/Entity/Milestones.sol...
Compiling ./contracts/Entity/Proposals.sol...
Compiling ./contracts/Entity/Token.sol...
Compiling ./contracts/Entity/TokenManager.sol...
Compiling ./contracts/GatewayInterface.sol...
Compiling ./contracts/Inputs/FundingInputDirect.sol...
Compiling ./contracts/Inputs/FundingInputGeneral.sol...
Compiling ./contracts/Inputs/FundingInputMilestone.sol...
Compiling ./contracts/library/FundingVaultLib.sol...
Compiling ./contracts/misc/Migrations.sol...
Compiling ./contracts/zeppelin/math/Math.sol...
Compiling ./contracts/zeppelin/math/SafeMath.sol...
Compiling ./contracts/zeppelin/token/BasicToken.sol...
Compiling ./contracts/zeppelin/token/ERC20.sol...
Compiling ./contracts/zeppelin/token/ERC20Basic.sol...
Compiling ./contracts/zeppelin/token/StandardToken.sol...
Compiling ./test/helpers/ExecutionTarget.sol...
Compiling ./test/helpers/SolidityAccountUtils.sol...
Compiling ./test/mocks/EmptyStub.sol...
Compiling ./test/mocks/GenericCaller.sol...
Compiling ./test/mocks/SafeMathMock.sol...
Compiling ./test/mocks/SampleRecipientSuccess.sol...
Compiling ./test/mocks/SampleRecipientThrow.sol...
Compiling ./test/mocks/TestApplicationAsset.sol...
Compiling ./test/mocks/TestApplicationEntity.sol...
Compiling ./test/mocks/TestApplicationEntityABI.sol...
Compiling ./test/mocks/TestApplicationEntityBad.sol...
Compiling ./test/mocks/TestERC20Caller.sol...
Compiling ./test/mocks/TestFunding.sol...
Compiling ./test/mocks/TestFundingInputMock.sol...
Compiling ./test/mocks/TestFundingManager.sol...
Compiling ./test/mocks/TestFundingVault.sol...
Compiling ./test/mocks/TestGatewayInterface.sol...
Compiling ./test/mocks/TestGeneralVault.sol...
Compiling ./test/mocks/TestListingContract.sol...
Compiling ./test/mocks/TestMeetings.sol...
Compiling ./test/mocks/TestMilestones.sol...
Compiling ./test/mocks/TestProposals.sol...
Compiling ./test/mocks/TestToken.sol...
Compiling ./test/mocks/TestTokenManager.sol...
Compiling ./test/mocks/TestTokenSCADA1Market.sol...

Compilation warnings encountered:

/Volumes/Dev/ico/dev/coverageEnv/contracts/Entity/FundingManager.sol:500:6: Warning: Unused local variable.
var (returnedCurrentEntityState, EntityStateRequired) = getRequiredStateChanges();
     ^------------------------^
,/Volumes/Dev/ico/dev/coverageEnv/contracts/zeppelin/math/Math.sol:9:3: Warning: Function state mutability can be restricted to pure
  function max64(uint64 a, uint64 b) internal returns (uint64) {
  ^
Spanning multiple lines.
,/Volumes/Dev/ico/dev/coverageEnv/contracts/zeppelin/math/Math.sol:13:3: Warning: Function state mutability can be restricted to pure
  function min64(uint64 a, uint64 b) internal returns (uint64) {
  ^
Spanning multiple lines.
,/Volumes/Dev/ico/dev/coverageEnv/contracts/zeppelin/math/Math.sol:17:3: Warning: Function state mutability can be restricted to pure
  function max256(uint256 a, uint256 b) internal returns (uint256) {
  ^
Spanning multiple lines.
,/Volumes/Dev/ico/dev/coverageEnv/contracts/zeppelin/math/Math.sol:21:3: Warning: Function state mutability can be restricted to pure
  function min256(uint256 a, uint256 b) internal returns (uint256) {
  ^
Spanning multiple lines.
,/Volumes/Dev/ico/dev/coverageEnv/test/helpers/SolidityAccountUtils.sol:8:5: Warning: Function state mutability can be restricted to view
    function getBalance(address _address) public returns (uint256) {
    ^
Spanning multiple lines.
,/Volumes/Dev/ico/dev/coverageEnv/test/mocks/TestApplicationEntity.sol:39:5: Warning: Function state mutability can be restricted to view
    function getTimestamp() public returns (uint256) {
    ^
Spanning multiple lines.

<span style="color:white;font-weight:bold;"> 
  ---------------------------------------------------------------- </span>
<span style="color:white;font-weight:bold;">   Running test collections [</span><span style="color:yellow;">12</span>]. 
<span style="color:white;font-weight:bold;">  ---------------------------------------------------------------- </span>


  Contract: ERC20 Token
  <span style="color:lime;">  ✓</span> creation: in contract settings should match constructor parameters<span style="color:red;"> (244ms)</span>
  <span style="color:lime;">  ✓</span> creation: should create a correct initial balance for the creator<span style="color:yellow;"> (45ms)</span>
  <span style="color:lime;">  ✓</span> creation: test correct setting of vanity information<span style="color:red;"> (128ms)</span>
  <span style="color:lime;">  ✓</span> creation: should succeed in creating over 2^256 - 1 (max) tokens<span style="color:red;"> (92ms)</span>
  <span style="color:lime;">  ✓</span> transfers: ether transfer should be reversed.
  <span style="color:lime;">  ✓</span> transfers: should transfer 10000 to accounts[1] with accounts[0] having 10000<span style="color:yellow;"> (71ms)</span>
  <span style="color:lime;">  ✓</span> transfers: should fail when trying to transfer total amount +1 to accounts[1] with accounts[0] having total amount<span style="color:red;"> (77ms)</span>
  <span style="color:lime;">  ✓</span> transfers: should handle zero-transfers normally<span style="color:red;"> (85ms)</span>
  <span style="color:lime;">  ✓</span> transfers: should throw if receiver address is 0x0
  <span style="color:lime;">  ✓</span> transferFrom: should throw if receiver address is 0x0<span style="color:yellow;"> (52ms)</span>
  <span style="color:lime;">  ✓</span> transfer: msg.sender should transfer 100 to SampleRecipient and then NOTIFY SampleRecipient. It should succeed.<span style="color:red;"> (142ms)</span>
  <span style="color:lime;">  ✓</span> transfer: msg.sender should transfer 100 to SampleRecipient and then NOTIFY SampleRecipient and throw if called as view method.<span style="color:red;"> (84ms)</span>
  <span style="color:lime;">  ✓</span> approvals: msg.sender should approve 100 to accounts[1]<span style="color:yellow;"> (55ms)</span>
  <span style="color:lime;">  ✓</span> approvals: msg.sender approves accounts[1] of 100 &amp; withdraws 20 once.<span style="color:red;"> (345ms)</span>
  <span style="color:lime;">  ✓</span> approvals: msg.sender approves accounts[1] of 100 &amp; withdraws 20 twice.<span style="color:red;"> (341ms)</span>
  <span style="color:lime;">  ✓</span> approvals: msg.sender approves accounts[1] of 100 &amp; withdraws 50 &amp; 60 (2nd tx should fail)<span style="color:red;"> (279ms)</span>
  <span style="color:lime;">  ✓</span> approvals: attempt withdrawal from account with no allowance (should fail)<span style="color:yellow;"> (71ms)</span>
  <span style="color:lime;">  ✓</span> approvals: allow accounts[1] 100 to withdraw from accounts[0]. Withdraw 60 and then approve 0 &amp; attempt transfer.<span style="color:red;"> (123ms)</span>
  <span style="color:lime;">  ✓</span> approvals: approve max (2^256 - 1)<span style="color:yellow;"> (51ms)</span>
  <span style="color:lime;">  ✓</span> approvals: msg.sender approves accounts[1] of max (2^256 - 1) &amp; withdraws 20<span style="color:red;"> (222ms)</span>
  <span style="color:lime;">  ✓</span> allowance: should start with zero
  <span style="color:lime;">  ✓</span> allowance: should increase by 50 then decrease by 10<span style="color:red;"> (127ms)</span>
  <span style="color:lime;">  ✓</span> allowance: should be set to zero if decrease value is higher than existing<span style="color:red;"> (95ms)</span>
  <span style="color:lime;">  ✓</span> events: should fire Transfer event properly
  <span style="color:lime;">  ✓</span> events: should fire Transfer event normally on a zero transfer
  <span style="color:lime;">  ✓</span> events: should fire Approval event properly

  Contract: SafeMath
  <span style="color:lime;">  ✓</span> multiplies correctly<span style="color:yellow;"> (50ms)</span>
  <span style="color:lime;">  ✓</span> adds correctly<span style="color:yellow;"> (53ms)</span>
  <span style="color:lime;">  ✓</span> subtracts correctly
  <span style="color:lime;">  ✓</span> should throw an error if subtraction result would be negative
  <span style="color:lime;">  ✓</span> should throw an error on addition overflow
  <span style="color:lime;">  ✓</span> should throw an error on multiplication overflow

  Contract: Gateway Interface
  <span style="color:lime;">  ✓</span> initializes with empty properties
    requestCodeUpgrade()
    <span style="color:lime;">  ✓</span> throws if address is empty ( 0x0 )
    <span style="color:lime;">  ✓</span> throws if calling object misses the initialize() method
    <span style="color:lime;">  ✓</span> throws if current Application cannot initialize Assets properly<span style="color:red;"> (111ms)</span>
    <span style="color:lime;">  ✓</span> links Application if valid<span style="color:red;"> (86ms)</span>
    <span style="color:lime;">  ✓</span> creates &quot;Upgrade Proposal&quot; if a previous Application is already linked<span style="color:red;"> (333ms)</span>
    approveCodeUpgrade()
    <span style="color:lime;">  ✓</span> throws if sender is not current Application
    <span style="color:lime;">  ✓</span> works if sender is current Application<span style="color:red;"> (367ms)</span>
    <span style="color:lime;">  ✓</span> throws if current Application cannot transfer assets to new application<span style="color:red;"> (221ms)</span>
    <span style="color:lime;">  ✓</span> throws if current Application cannot initialize new application<span style="color:red;"> (353ms)</span>
    <span style="color:lime;">  ✓</span> throws if current Application cannot lock itself after transferring assets<span style="color:red;"> (371ms)</span>

  Contract: Application Assets
    setInitialOwnerAndName()
    <span style="color:lime;">  ✓</span> works if linking an asset for the first time<span style="color:red;"> (108ms)</span>
    <span style="color:lime;">  ✓</span> throws if already owned<span style="color:yellow;"> (67ms)</span>
    applyAndLockSettings()
    <span style="color:lime;">  ✓</span> works if called by deployer account and asset is not locked already<span style="color:red;"> (109ms)</span>
    <span style="color:lime;">  ✓</span> throws if called before initialization
    <span style="color:lime;">  ✓</span> throws if called when settings are already applied<span style="color:red;"> (115ms)</span>
    <span style="color:lime;">  ✓</span> throws if not called by deployer's account<span style="color:yellow;"> (68ms)</span>
    getApplicationAssetAddressByName()
    <span style="color:lime;">  ✓</span> works if asset is initialized and owned by an application<span style="color:red;"> (119ms)</span>
    <span style="color:lime;">  ✓</span> works if asset has settings and they are applied<span style="color:red;"> (182ms)</span>
    <span style="color:lime;">  ✓</span> throws if asset name does not exist in the app's mapping<span style="color:red;"> (108ms)</span>
    transferToNewOwner()
    <span style="color:lime;">  ✓</span> works if current caller is owner and requested address is not 0x0<span style="color:red;"> (127ms)</span>
    <span style="color:lime;">  ✓</span> throws if called when internal owner address is invalid
    <span style="color:lime;">  ✓</span> throws if owned and called by other address<span style="color:red;"> (78ms)</span>

  Contract: Application Entity
  <span style="color:lime;">  ✓</span> initializes with empty properties<span style="color:yellow;"> (65ms)</span>
    setBylawString()
    <span style="color:lime;">  ✓</span> sets and returns a bylaw string if not initialized<span style="color:red;"> (182ms)</span>
    <span style="color:lime;">  ✓</span> throws if if application is already initialized<span style="color:red;"> (81ms)</span>
    getBylawString()
    <span style="color:lime;">  ✓</span> throws if application is not initialized
    <span style="color:lime;">  ✓</span> returns correct value set by setBylawString if application is initialized<span style="color:red;"> (108ms)</span>
    setBylawUint256()
    <span style="color:lime;">  ✓</span> sets and returns a bylaw uint256 if not initialized<span style="color:red;"> (170ms)</span>
    <span style="color:lime;">  ✓</span> throws if if application is already initialized<span style="color:red;"> (85ms)</span>
    getBylawUint256()
    <span style="color:lime;">  ✓</span> throws if application is not initialized
    <span style="color:lime;">  ✓</span> returns correct value set by setBylaw if application is initialized<span style="color:red;"> (105ms)</span>
    initialize()
    <span style="color:lime;">  ✓</span> throws if called when already initialized<span style="color:yellow;"> (49ms)</span>
    <span style="color:lime;">  ✓</span> throws if called with owner missing ( gateway )
    <span style="color:lime;">  ✓</span> works if owner is set, and it's the one calling<span style="color:yellow;"> (73ms)</span>
    lock()
    <span style="color:lime;">  ✓</span> throws if sender is not gateway
    <span style="color:lime;">  ✓</span> works if sender is gateway<span style="color:yellow;"> (69ms)</span>
    linkToGateway()
    <span style="color:lime;">  ✓</span> throws if called when owner already exists
    <span style="color:lime;">  ✓</span> throws if called when already initialized<span style="color:yellow;"> (39ms)</span>
    <span style="color:lime;">  ✓</span> will emit EventAppEntityReady on initial linking<span style="color:red;"> (77ms)</span>
    <span style="color:lime;">  ✓</span> will emit EventProposalsCodeUpgradeNew if a previous ApplicationEntity is already linked<span style="color:red;"> (323ms)</span>
    addAsset[AssetName]()
    <span style="color:lime;">  ✓</span> throws if called when already initialized<span style="color:red;"> (78ms)</span>
    <span style="color:lime;">  ✓</span> linking an asset will emit EventAppEntityInitAsset event<span style="color:red;"> (92ms)</span>
    <span style="color:lime;">  ✓</span> linking all assets will emit the same number of EventAppEntityInitAsset events<span style="color:red;"> (459ms)</span>
    initializeAssetsToThisApplication()
    <span style="color:lime;">  ✓</span> throws if not an asset<span style="color:red;"> (93ms)</span>
    <span style="color:lime;">  ✓</span> throws if caller is not gateway<span style="color:yellow;"> (38ms)</span>
    acceptCodeUpgradeProposal()
    <span style="color:lime;">  ✓</span> throws if caller is not Proposals Asset<span style="color:red;"> (81ms)</span>

  Contract: Gateway and Application Integration
  <span style="color:lime;">  ✓</span> initial deployment<span style="color:red;"> (106ms)</span>
  <span style="color:lime;">  ✓</span> first linking<span style="color:red;"> (184ms)</span>
    Application upgrades
    <span style="color:lime;">  ✓</span> first upgrade<span style="color:red;"> (378ms)</span>
    <span style="color:lime;">  ✓</span> second upgrade<span style="color:red;"> (784ms)</span>

  Contract: TokenManager Asset
    addTokenSettingsAndInit()
    <span style="color:lime;">  ✓</span> properly sets up the tokens if initialized<span style="color:red;"> (95ms)</span>
    <span style="color:lime;">  ✓</span> properly sets up the Token SCADA<span style="color:red;"> (160ms)</span>
    getTokenSCADARequiresHardCap()
    <span style="color:lime;">  ✓</span> returns boolean value stored in SCADA Contract<span style="color:red;"> (93ms)</span>

  Contract: Funding Vault
  <span style="color:lime;">  ✓</span> initializes with empty properties<span style="color:red;"> (126ms)</span>
  <span style="color:lime;">  ✓</span> addPayment throws if not initialized
  <span style="color:lime;">  ✓</span> TokenSCADA provides 0 tokens when no payments are registered yet<span style="color:red;"> (175ms)</span>
    initialize()
    <span style="color:lime;">  ✓</span> throws if called when already initialized
    <span style="color:lime;">  ✓</span> works if settings are correct and has not been initialized before<span style="color:red;"> (166ms)</span>
    addPayment()
    <span style="color:lime;">  ✓</span> FUNDING_DIRECT_METHOD - works with correct settings and caller<span style="color:red;"> (216ms)</span>
    <span style="color:lime;">  ✓</span> FUNDING_MILESTONE_METHOD - works with correct settings and caller<span style="color:red;"> (200ms)</span>
    <span style="color:lime;">  ✓</span> throws if msg.value is missing
    <span style="color:lime;">  ✓</span> throws if payment method does not exist
    <span style="color:lime;">  ✓</span> throws if called by other address than manager (funding contract)
    <span style="color:lime;">  ✓</span> handles multiple payments, irregardless of funding method provided<span style="color:red;"> (129ms)</span>

  Contract: Funding Asset
  <span style="color:lime;">  ✓</span> deploys with no Funding Stages<span style="color:yellow;"> (39ms)</span>
  <span style="color:lime;">  ✓</span> deploys with no multiSigOutputAddress
  <span style="color:lime;">  ✓</span> deploys with no Funding Inputs<span style="color:red;"> (176ms)</span>
  <span style="color:lime;">  ✓</span> has Funding Inputs once initialized<span style="color:yellow;"> (59ms)</span>
    addSettings()
    <span style="color:lime;">  ✓</span> throws if called when settings are locked<span style="color:red;"> (97ms)</span>
    <span style="color:lime;">  ✓</span> throws if global soft cap is greater than global hard cap
    <span style="color:lime;">  ✓</span> properly sets up the funding settings<span style="color:red;"> (117ms)</span>
    first funding stage
    <span style="color:lime;">  ✓</span> successfully creates a funding stage with proper settings<span style="color:red;"> (105ms)</span>
    <span style="color:lime;">  ✓</span> throws if end time is before or equal to start time
    <span style="color:lime;">  ✓</span> throws if token selling percentage is higher than 100%<span style="color:yellow;"> (43ms)</span>
      SCADA Disallows Record Hard Cap, Requires Globals
      <span style="color:lime;">  ✓</span> throws if soft cap exists<span style="color:yellow;"> (46ms)</span>
      <span style="color:lime;">  ✓</span> throws if hard cap exists<span style="color:yellow;"> (47ms)</span>
      <span style="color:lime;">  ✓</span> works if hard cap and soft cap is 0<span style="color:red;"> (98ms)</span>
      when at least 1 funding stage already exists
      <span style="color:lime;">  ✓</span> successfully creates the second funding stage with proper settings<span style="color:red;"> (114ms)</span>
      <span style="color:lime;">  ✓</span> throws if new funding stage start time overlaps existing stage<span style="color:yellow;"> (51ms)</span>
      <span style="color:lime;">  ✓</span> throws if new funding stage + existing stage sell more than 100% of tokens<span style="color:yellow;"> (49ms)</span>
    funding stages added, asset initialized
    <span style="color:lime;">  ✓</span> has correct Funding Inputs after ApplicationEntity grabs asset ownership and initializes it<span style="color:yellow;"> (54ms)</span>
      receivePayment()
      <span style="color:lime;">  ✓</span> throws if called directly in the Funding contract
      <span style="color:lime;">  ✓</span> throws if caller is not funding asset
      <span style="color:lime;">  ✓</span> throws if _payment_method is not allowed<span style="color:red;"> (129ms)</span>
      canAcceptPayment()
      <span style="color:lime;">  ✓</span> returns false if CurrentEntityState is not IN_PROGRESS<span style="color:yellow;"> (40ms)</span>
        CurrentEntityState is IN_PROGRESS
        <span style="color:lime;">  ✓</span> returns false if ETH value is 0
        <span style="color:lime;">  ✓</span> returns false if ETH value is smaller than minimum entry<span style="color:red;"> (462ms)</span>
        <span style="color:lime;">  ✓</span> returns false if any State changes are required<span style="color:red;"> (676ms)</span>
      Funding State: IN_PROGRESS
        Funding Input: All
        <span style="color:lime;">  ✓</span> has correct FundingAssetAddress
        <span style="color:lime;">  ✓</span> throws if msg.value is missing
        <span style="color:lime;">  ✓</span> throws if FundingAssetAddress is not set<span style="color:red;"> (79ms)</span>
        <span style="color:lime;">  ✓</span> throws if FundingAsset is not pointing to a Contract<span style="color:yellow;"> (61ms)</span>
          Funding Input: Direct
          <span style="color:lime;">  ✓</span> has correct type id = 1
<span style="color:white;font-weight:bold;">            ↓ Direct Payment: GAS USAGE: </span><span style="color:fuchsia;">5327329 </span>
          <span style="color:lime;">  ✓</span> accepts payments using fallback () method and stores in valut's direct pool<span style="color:red;"> (379ms)</span>
<span style="color:white;font-weight:bold;">            ↓ First Direct Payment: GAS USAGE: </span><span style="color:fuchsia;">5327329 </span>
<span style="color:white;font-weight:bold;">            ↓ Second Direct Payment: GAS USAGE: </span><span style="color:fuchsia;">338761 </span>
          <span style="color:lime;">  ✓</span> accepts second payment from same investor<span style="color:red;"> (611ms)</span>
          <span style="color:lime;">  ✓</span> accepts second payment from same investor using both payment methods ( Direct &amp; Milestone )<span style="color:red;"> (604ms)</span>
          Funding Input: Milestone
          <span style="color:lime;">  ✓</span> has correct type id = 2
<span style="color:white;font-weight:bold;">            ↓ Milestone Payment: GAS USAGE: </span><span style="color:fuchsia;">5327470 </span>
          <span style="color:lime;">  ✓</span> accepts payments using fallback () method and stores in valut's milestone pool<span style="color:red;"> (370ms)</span>

  Contract: Funding Asset - Payments
  <span style="color:lime;">  ✓</span> TokenSCADA provides the correct token stake for current funding phase<span style="color:red;"> (494ms)</span>
  <span style="color:lime;">  ✓</span> TokenSCADA provides the correct token stake when buying multiple times<span style="color:red;"> (638ms)</span>
  <span style="color:lime;">  ✓</span> TokenSCADA provides the correct token stake when multiple investors are buying multiple times<span style="color:red;"> (1083ms)</span>

  Contract: Funding Asset - States
  <span style="color:lime;">  ✓</span> starts with state as New and requires a change to WAITING if current time is before any funding stage<span style="color:red;"> (322ms)</span>
  <span style="color:lime;">  ✓</span> handles ENTITY state change from NEW to WAITING when funding does not start yet<span style="color:red;"> (797ms)</span>
  <span style="color:lime;">  ✓</span> starts with state as New and has correct Token Balance once in WAITING state<span style="color:red;"> (689ms)</span>
  <span style="color:lime;">  ✓</span> handles ENTITY state change from NEW or WAITING to IN_PROGRESS when funding time start has passed<span style="color:red;"> (652ms)</span>
  <span style="color:lime;">  ✓</span> is in IN_PROGRESS, receives payments, pre_ico time passes, should Require change to COOLDOWN<span style="color:red;"> (1189ms)</span>
  <span style="color:lime;">  ✓</span> handles ENTITY state change from IN_PROGRESS to COOLDOWN when funding period time start has passed<span style="color:red;"> (1227ms)</span>
  <span style="color:lime;">  ✓</span> is in COOLDOWN, ico start time passes, should Require change to IN_PROGRESS<span style="color:red;"> (1493ms)</span>
  <span style="color:lime;">  ✓</span> handles ENTITY state change from COOLDOWN to IN_PROGRESS when next funding period time start has passed<span style="color:red;"> (1793ms)</span>
  <span style="color:lime;">  ✓</span> is IN_PROGRESS, ico end time passes, should Require change to FUNDING_ENDED<span style="color:red;"> (2164ms)</span>
    handles ENTITY state change from IN_PROGRESS when last funding period time end has passed
    <span style="color:lime;">  ✓</span> to FAILED when payments did not reach soft cap<span style="color:red;"> (2365ms)</span>
    <span style="color:lime;">  ✓</span> to SUCCESSFUL when payments reached soft cap<span style="color:red;"> (2431ms)</span>
    handles ENTITY state change from IN_PROGRESS when Hard Cap is Reached
    <span style="color:lime;">  ✓</span> to SUCCESSFUL when payments reached hard cap in first funding stage (pre-ico)<span style="color:red;"> (1856ms)</span>
    <span style="color:lime;">  ✓</span> to SUCCESSFUL when payments reached hard cap in last funding stage (ico)<span style="color:red;"> (2269ms)</span>
    FundingManager Tasks
    <span style="color:lime;">  ✓</span> handles ENTITY state change from FAILED to FAILED_FINAL after FundingManager Task Process finished<span style="color:red;"> (5354ms)</span>
    <span style="color:lime;">  ✓</span> handles ENTITY state change from SUCCESSFUL to SUCCESSFUL_FINAL after FundingManager Task Process finished<span style="color:red;"> (6218ms)</span>
    misc for extra coverage
    <span style="color:lime;">  ✓</span> isFundingStageUpdateAllowed returns false if not allowed<span style="color:red;"> (586ms)</span>
    <span style="color:lime;">  ✓</span> should run doStateChanges even if no changes are required<span style="color:red;"> (369ms)</span>

  Contract: FundingManager Asset
  <span style="color:lime;">  ✓</span> receivePayment() throws if caller is not funding asset<span style="color:yellow;"> (49ms)</span>
    FundingEndedProcessVaultList()
    <span style="color:lime;">  ✓</span> vaultNum has correct number of payments
    <span style="color:lime;">  ✓</span> throws if Funding State is not &quot;FUNDING_ENDED&quot;
    <span style="color:lime;">  ✓</span> Funding State is &quot;FUNDING_ENDED&quot;<span style="color:red;"> (1734ms)</span>
    states
    <span style="color:lime;">  ✓</span> starts with state as New and requires a change to WAITING<span style="color:yellow;"> (59ms)</span>
    <span style="color:lime;">  ✓</span> handles ENTITY state change from NEW to WAITING<span style="color:red;"> (362ms)</span>
    <span style="color:lime;">  ✓</span> handles ENTITY state change from NEW or WAITING to FUNDING_FAILED_START when funding state is FAILED <span style="color:red;"> (3915ms)</span>
      Funding has payments, but does not reach Soft Cap
      <span style="color:lime;">  ✓</span> handles ENTITY state change from FUNDING_FAILED_START to FUNDING_FAILED_PROGRESS<span style="color:red;"> (643ms)</span>
      <span style="color:lime;">  ✓</span> handles ENTITY state change from FUNDING_FAILED_PROGRESS to FUNDING_FAILED_DONE, and processes all vaults<span style="color:red;"> (1355ms)</span>
      Funding has payments, and Soft Cap is reached
      <span style="color:lime;">  ✓</span> handles ENTITY state change from FUNDING_SUCCESSFUL_START to FUNDING_SUCCESSFUL_PROGRESS<span style="color:red;"> (639ms)</span>
      <span style="color:lime;">  ✓</span> handles ENTITY state change from FUNDING_SUCCESSFUL_PROGRESS to FUNDING_SUCCESSFUL_DONE, and processes all vaults<span style="color:red;"> (2213ms)</span>


 <span style="color:lime;"> 162 passing</span> (3m)

<img src="coverage.png" height="811" width="673"/></pre>

</body>
</html>
